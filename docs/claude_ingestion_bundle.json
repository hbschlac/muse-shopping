{
  "package": "muse_style_profile_bundle",
  "version": "1.0.0",
  "generated_on": "2026-02-03",
  "files": {
    "README.md": "# Claude Ingestion Package\n\nThis folder contains structured assets for integrating Muse influencer signals into the recommendation system.\n\n## Contents\n- `manifest.json`: machine-readable index of all files and their purpose\n- `style_profile_schema.json`: JSON Schema for the user Style Profile\n- `style_profile_scoring_function_spec.md`: scoring logic and update rules\n- `style_profile_scoring_fixtures.json`: test fixtures\n- `style_profile_scoring_fixtures_extra.json`: edge case fixtures\n- `style_profile_scoring_test_runner.py`: test runner (all fixtures pass)\n- `style_profile_sample_users.json`: example user profiles + UX examples\n- `style_profile_sample_users.csv`: flattened examples\n- `style_profile_copy_map.md`: tag-to-copy mapping for UI\n- `style_profile_ux_blueprint.md`: product surfaces and UX flow\n- `influencer_shopper_signal_map.md`: influencer \u2192 shopper signal mapping rules\n- `style_profile_spec.md`: spec narrative\n\n## Notes\n- All weights and scoring logic are defined in `style_profile_scoring_function_spec.md`.\n- Fixtures are designed to validate raw delta updates (not normalized values).\n",
    "manifest.json": "{\n  \"package\": \"muse_style_profile\",\n  \"version\": \"1.0.0\",\n  \"generated_on\": \"2026-02-03\",\n  \"files\": [\n    {\"path\": \"style_profile_schema.json\", \"type\": \"schema\", \"description\": \"JSON schema for the Style Profile object\"},\n    {\"path\": \"style_profile_scoring_function_spec.md\", \"type\": \"spec\", \"description\": \"Scoring logic, event weights, and normalization\"},\n    {\"path\": \"style_profile_scoring_fixtures.json\", \"type\": \"test\", \"description\": \"Primary fixtures\"},\n    {\"path\": \"style_profile_scoring_fixtures_extra.json\", \"type\": \"test\", \"description\": \"Edge-case fixtures\"},\n    {\"path\": \"style_profile_scoring_test_runner.py\", \"type\": \"test-runner\", \"description\": \"Runs fixtures and asserts deltas\"},\n    {\"path\": \"style_profile_sample_users.json\", \"type\": \"example\", \"description\": \"Sample user profiles with UX outputs\"},\n    {\"path\": \"style_profile_sample_users.csv\", \"type\": \"example\", \"description\": \"Flattened sample profiles\"},\n    {\"path\": \"style_profile_copy_map.md\", \"type\": \"copy\", \"description\": \"Mapping tags to user-facing copy\"},\n    {\"path\": \"style_profile_ux_blueprint.md\", \"type\": \"ux\", \"description\": \"Product surfaces and personalization flow\"},\n    {\"path\": \"influencer_shopper_signal_map.md\", \"type\": \"mapping\", \"description\": \"Influencer to shopper signal translation\"},\n    {\"path\": \"style_profile_spec.md\", \"type\": \"spec\", \"description\": \"Narrative spec for style profile\"}\n  ]\n}\n",
    "style_profile_schema.json": "{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"StyleProfile\",\n  \"type\": \"object\",\n  \"required\": [\"user_id\", \"style_layers\", \"price_layers\", \"category_layers\", \"occasion_layers\", \"commerce_intent\", \"confidence\"],\n  \"properties\": {\n    \"user_id\": {\"type\": \"string\"},\n    \"style_layers\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"minimal\": {\"type\": \"number\"},\n        \"streetwear\": {\"type\": \"number\"},\n        \"glam\": {\"type\": \"number\"},\n        \"classic\": {\"type\": \"number\"},\n        \"boho\": {\"type\": \"number\"},\n        \"athleisure\": {\"type\": \"number\"},\n        \"romantic\": {\"type\": \"number\"},\n        \"edgy\": {\"type\": \"number\"},\n        \"preppy\": {\"type\": \"number\"},\n        \"avant_garde\": {\"type\": \"number\"}\n      },\n      \"additionalProperties\": false\n    },\n    \"price_layers\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"budget\": {\"type\": \"number\"},\n        \"mid\": {\"type\": \"number\"},\n        \"premium\": {\"type\": \"number\"},\n        \"luxury\": {\"type\": \"number\"}\n      },\n      \"additionalProperties\": false\n    },\n    \"category_layers\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"bags\": {\"type\": \"number\"},\n        \"shoes\": {\"type\": \"number\"},\n        \"denim\": {\"type\": \"number\"},\n        \"workwear\": {\"type\": \"number\"},\n        \"occasion\": {\"type\": \"number\"},\n        \"accessories\": {\"type\": \"number\"},\n        \"active\": {\"type\": \"number\"},\n        \"mixed\": {\"type\": \"number\"}\n      },\n      \"additionalProperties\": false\n    },\n    \"occasion_layers\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"work\": {\"type\": \"number\"},\n        \"event\": {\"type\": \"number\"},\n        \"casual\": {\"type\": \"number\"},\n        \"athleisure\": {\"type\": \"number\"}\n      },\n      \"additionalProperties\": false\n    },\n    \"commerce_intent\": {\"type\": \"number\"},\n    \"confidence\": {\"type\": \"number\"}\n  },\n  \"additionalProperties\": false\n}\n",
    "style_profile_scoring_function_spec.md": "# Style Profile Scoring Function Spec\n\nDate: 2026-02-03\n\n## Purpose\nDefine how a user\u2019s Style Profile is updated from influencer follows + interactions and shopping behaviors.\n\n## Inputs\n- Event\n  - `user_id`\n  - `event_type`: `follow | like | save | click | add_to_cart | purchase`\n  - `source_type`: `influencer | product | retailer`\n  - `source_id`\n  - `timestamp`\n- Influencer metadata (if `source_type = influencer`)\n  - `style_archetype`, `price_tier`, `category_focus`, `commerce_readiness_score`\n- Product metadata (if `source_type = product`)\n  - `category`, `price_tier`, `occasion`\n\n## Output\n- Updated `StyleProfile` object\n\n## Weights\n- follow: +1.0\n- like: +0.6\n- save: +0.9\n- click: +0.5\n- add_to_cart: +1.2\n- purchase: +1.5\n\n## Update Rules\n1. **Style layers**\n   - If influencer has `style_archetype`, add `weight` to that layer.\n2. **Price layers**\n   - Add `weight` to influencer `price_tier` or product `price_tier`.\n3. **Category layers**\n   - Add `weight` to influencer `category_focus` or product `category`.\n4. **Occasion layers**\n   - Add `weight` to product `occasion` or inferred influencer occasion.\n5. **Commerce intent**\n   - If influencer `commerce_readiness_score >= 20`, add +0.1 per follow.\n   - If user purchases, add +0.2.\n\n## Normalization\n- Normalize each layer by dividing by max value in that layer group.\n- Compute `confidence = min(1, log10(total_events + 1) / 2)`.\n\n## Decay (optional)\n- Weekly decay: multiply all layer scores by 0.98 to reflect changing tastes.\n\n## Example (Pseudo)\n```\nweight = EVENT_WEIGHTS[event_type]\nif source_type == influencer:\n  style_layers[style_archetype] += weight\n  price_layers[price_tier] += weight\n  category_layers[category_focus] += weight\n  if commerce_readiness_score >= 20:\n    commerce_intent += 0.1\nif source_type == product:\n  category_layers[product_category] += weight\n  price_layers[product_price_tier] += weight\n  occasion_layers[product_occasion] += weight\nnormalize_layers()\n```\n\n",
    "style_profile_scoring_fixtures.json": "{\n  \"fixtures\": [\n    {\n      \"id\": \"f_simple_influencer_follow\",\n      \"initial_profile\": {\n        \"user_id\": \"u_test_1\",\n        \"style_layers\": {\"minimal\": 0, \"streetwear\": 0, \"glam\": 0, \"classic\": 0, \"boho\": 0, \"athleisure\": 0, \"romantic\": 0, \"edgy\": 0, \"preppy\": 0, \"avant_garde\": 0},\n        \"price_layers\": {\"budget\": 0, \"mid\": 0, \"premium\": 0, \"luxury\": 0},\n        \"category_layers\": {\"bags\": 0, \"shoes\": 0, \"denim\": 0, \"workwear\": 0, \"occasion\": 0, \"accessories\": 0, \"active\": 0, \"mixed\": 0},\n        \"occasion_layers\": {\"work\": 0, \"event\": 0, \"casual\": 0, \"athleisure\": 0},\n        \"commerce_intent\": 0,\n        \"confidence\": 0\n      },\n      \"event\": {\n        \"user_id\": \"u_test_1\",\n        \"event_type\": \"follow\",\n        \"source_type\": \"influencer\",\n        \"source_id\": \"inf_001\",\n        \"timestamp\": \"2026-02-03T12:00:00Z\"\n      },\n      \"influencer\": {\n        \"style_archetype\": \"minimal\",\n        \"price_tier\": \"premium\",\n        \"category_focus\": \"workwear\",\n        \"commerce_readiness_score\": 20\n      },\n      \"expected_delta\": {\n        \"style_layers\": {\"minimal\": 1.0},\n        \"price_layers\": {\"premium\": 1.0},\n        \"category_layers\": {\"workwear\": 1.0},\n        \"commerce_intent\": 0.1\n      }\n    },\n    {\n      \"id\": \"f_purchase_product\",\n      \"initial_profile\": {\n        \"user_id\": \"u_test_2\",\n        \"style_layers\": {\"minimal\": 0.2, \"streetwear\": 0.1, \"glam\": 0.1, \"classic\": 0.3, \"boho\": 0, \"athleisure\": 0.1, \"romantic\": 0, \"edgy\": 0, \"preppy\": 0, \"avant_garde\": 0},\n        \"price_layers\": {\"budget\": 0.1, \"mid\": 0.3, \"premium\": 0.4, \"luxury\": 0.2},\n        \"category_layers\": {\"bags\": 0.1, \"shoes\": 0.2, \"denim\": 0.1, \"workwear\": 0.4, \"occasion\": 0.1, \"accessories\": 0.1, \"active\": 0.1, \"mixed\": 0},\n        \"occasion_layers\": {\"work\": 0.4, \"event\": 0.1, \"casual\": 0.2, \"athleisure\": 0.1},\n        \"commerce_intent\": 0.4,\n        \"confidence\": 0.5\n      },\n      \"event\": {\n        \"user_id\": \"u_test_2\",\n        \"event_type\": \"purchase\",\n        \"source_type\": \"product\",\n        \"source_id\": \"prod_007\",\n        \"timestamp\": \"2026-02-03T13:00:00Z\"\n      },\n      \"product\": {\n        \"category\": \"bags\",\n        \"price_tier\": \"premium\",\n        \"occasion\": \"event\"\n      },\n      \"expected_delta\": {\n        \"category_layers\": {\"bags\": 1.5},\n        \"price_layers\": {\"premium\": 1.5},\n        \"occasion_layers\": {\"event\": 1.5},\n        \"commerce_intent\": 0.2\n      }\n    }\n  ]\n}\n",
    "style_profile_scoring_fixtures_extra.json": "{\n  \"fixtures\": [\n    {\n      \"id\": \"f_no_data\",\n      \"initial_profile\": {\n        \"user_id\": \"u_test_empty\",\n        \"style_layers\": {\"minimal\": 0, \"streetwear\": 0, \"glam\": 0, \"classic\": 0, \"boho\": 0, \"athleisure\": 0, \"romantic\": 0, \"edgy\": 0, \"preppy\": 0, \"avant_garde\": 0},\n        \"price_layers\": {\"budget\": 0, \"mid\": 0, \"premium\": 0, \"luxury\": 0},\n        \"category_layers\": {\"bags\": 0, \"shoes\": 0, \"denim\": 0, \"workwear\": 0, \"occasion\": 0, \"accessories\": 0, \"active\": 0, \"mixed\": 0},\n        \"occasion_layers\": {\"work\": 0, \"event\": 0, \"casual\": 0, \"athleisure\": 0},\n        \"commerce_intent\": 0,\n        \"confidence\": 0\n      },\n      \"event\": {\n        \"user_id\": \"u_test_empty\",\n        \"event_type\": \"click\",\n        \"source_type\": \"product\",\n        \"source_id\": \"prod_none\",\n        \"timestamp\": \"2026-02-03T12:00:00Z\"\n      },\n      \"product\": {\n        \"category\": null,\n        \"price_tier\": null,\n        \"occasion\": null\n      },\n      \"expected_delta\": {\n        \"category_layers\": {},\n        \"price_layers\": {},\n        \"occasion_layers\": {},\n        \"commerce_intent\": 0\n      }\n    },\n    {\n      \"id\": \"f_conflicting_signals\",\n      \"initial_profile\": {\n        \"user_id\": \"u_test_conflict\",\n        \"style_layers\": {\"minimal\": 1.5, \"streetwear\": 1.2, \"glam\": 0.2, \"classic\": 0.3, \"boho\": 0, \"athleisure\": 0.8, \"romantic\": 0, \"edgy\": 0.9, \"preppy\": 0.1, \"avant_garde\": 0},\n        \"price_layers\": {\"budget\": 0.2, \"mid\": 0.8, \"premium\": 0.5, \"luxury\": 0.1},\n        \"category_layers\": {\"bags\": 0.2, \"shoes\": 0.7, \"denim\": 0.4, \"workwear\": 0.1, \"occasion\": 0.1, \"accessories\": 0.5, \"active\": 0.7, \"mixed\": 0.2},\n        \"occasion_layers\": {\"work\": 0.2, \"event\": 0.1, \"casual\": 0.9, \"athleisure\": 0.7},\n        \"commerce_intent\": 0.3,\n        \"confidence\": 0.6\n      },\n      \"event\": {\n        \"user_id\": \"u_test_conflict\",\n        \"event_type\": \"save\",\n        \"source_type\": \"influencer\",\n        \"source_id\": \"inf_glam\",\n        \"timestamp\": \"2026-02-03T12:10:00Z\"\n      },\n      \"influencer\": {\n        \"style_archetype\": \"glam\",\n        \"price_tier\": \"luxury\",\n        \"category_focus\": \"occasion\",\n        \"commerce_readiness_score\": 20\n      },\n      \"expected_delta\": {\n        \"style_layers\": {\"glam\": 0.9},\n        \"price_layers\": {\"luxury\": 0.9},\n        \"category_layers\": {\"occasion\": 0.9},\n        \"commerce_intent\": 0.1\n      }\n    },\n    {\n      \"id\": \"f_low_confidence\",\n      \"initial_profile\": {\n        \"user_id\": \"u_test_low\",\n        \"style_layers\": {\"minimal\": 0, \"streetwear\": 0, \"glam\": 0, \"classic\": 0, \"boho\": 0, \"athleisure\": 0, \"romantic\": 0, \"edgy\": 0, \"preppy\": 0, \"avant_garde\": 0},\n        \"price_layers\": {\"budget\": 0, \"mid\": 0, \"premium\": 0, \"luxury\": 0},\n        \"category_layers\": {\"bags\": 0, \"shoes\": 0, \"denim\": 0, \"workwear\": 0, \"occasion\": 0, \"accessories\": 0, \"active\": 0, \"mixed\": 0},\n        \"occasion_layers\": {\"work\": 0, \"event\": 0, \"casual\": 0, \"athleisure\": 0},\n        \"commerce_intent\": 0,\n        \"confidence\": 0\n      },\n      \"event\": {\n        \"user_id\": \"u_test_low\",\n        \"event_type\": \"like\",\n        \"source_type\": \"influencer\",\n        \"source_id\": \"inf_minimal\",\n        \"timestamp\": \"2026-02-03T12:20:00Z\"\n      },\n      \"influencer\": {\n        \"style_archetype\": \"minimal\",\n        \"price_tier\": \"mid\",\n        \"category_focus\": \"denim\",\n        \"commerce_readiness_score\": 0\n      },\n      \"expected_delta\": {\n        \"style_layers\": {\"minimal\": 0.6},\n        \"price_layers\": {\"mid\": 0.6},\n        \"category_layers\": {\"denim\": 0.6},\n        \"commerce_intent\": 0\n      }\n    }\n  ]\n}\n",
    "style_profile_scoring_test_runner.py": "import json\nfrom math import isclose, log10\n\nEVENT_WEIGHTS = {\n    \"follow\": 1.0,\n    \"like\": 0.6,\n    \"save\": 0.9,\n    \"click\": 0.5,\n    \"add_to_cart\": 1.2,\n    \"purchase\": 1.5,\n}\n\n\ndef update_profile(profile, event, influencer=None, product=None):\n    weight = EVENT_WEIGHTS[event[\"event_type\"]]\n\n    if event[\"source_type\"] == \"influencer\" and influencer:\n        style = influencer.get(\"style_archetype\")\n        price = influencer.get(\"price_tier\")\n        category = influencer.get(\"category_focus\")\n        commerce = influencer.get(\"commerce_readiness_score\", 0)\n\n        if style:\n            profile[\"style_layers\"][style] += weight\n        if price:\n            profile[\"price_layers\"][price] += weight\n        if category:\n            profile[\"category_layers\"][category] += weight\n        if commerce >= 20:\n            profile[\"commerce_intent\"] += 0.1\n\n    if event[\"source_type\"] == \"product\" and product:\n        cat = product.get(\"category\")\n        price = product.get(\"price_tier\")\n        occ = product.get(\"occasion\")\n        if cat:\n            profile[\"category_layers\"][cat] += weight\n        if price:\n            profile[\"price_layers\"][price] += weight\n        if occ:\n            profile[\"occasion_layers\"][occ] += weight\n        if event[\"event_type\"] == \"purchase\":\n            profile[\"commerce_intent\"] += 0.2\n\n    return profile\n\n\ndef normalize_layers(layer_map):\n    max_val = max(layer_map.values()) if layer_map else 0\n    if max_val <= 0:\n        return layer_map\n    for k in layer_map:\n        layer_map[k] = round(layer_map[k] / max_val, 4)\n    return layer_map\n\n\ndef compute_confidence(total_events):\n    return min(1.0, log10(total_events + 1) / 2)\n\n\ndef approx_equal(a, b, tol=1e-6):\n    return isclose(a, b, rel_tol=tol, abs_tol=tol)\n\n\ndef compute_delta(initial, updated):\n    delta = {\n        \"style_layers\": {},\n        \"price_layers\": {},\n        \"category_layers\": {},\n        \"occasion_layers\": {},\n        \"commerce_intent\": updated.get(\"commerce_intent\", 0) - initial.get(\"commerce_intent\", 0),\n    }\n    for group in [\"style_layers\", \"price_layers\", \"category_layers\", \"occasion_layers\"]:\n        for k, v in updated[group].items():\n            delta[group][k] = v - initial[group].get(k, 0)\n    return delta\n\n\ndef check_expected_delta(delta, expected):\n    failures = []\n\n    for group_key in [\"style_layers\", \"price_layers\", \"category_layers\", \"occasion_layers\"]:\n        if group_key in expected:\n            for k, v in expected[group_key].items():\n                if not approx_equal(delta[group_key].get(k, 0), v):\n                    failures.append(f\"{group_key}.{k} expected {v} got {delta[group_key].get(k, 0)}\")\n\n    if \"commerce_intent\" in expected:\n        if not approx_equal(delta.get(\"commerce_intent\", 0), expected[\"commerce_intent\"]):\n            failures.append(f\"commerce_intent expected {expected['commerce_intent']} got {delta.get('commerce_intent', 0)}\")\n\n    return failures\n\n\ndef run_fixture(fx):\n    initial = fx[\"initial_profile\"]\n    event = fx[\"event\"]\n    influencer = fx.get(\"influencer\")\n    product = fx.get(\"product\")\n\n    # Deep copy initial for update\n    profile = json.loads(json.dumps(initial))\n    profile = update_profile(profile, event, influencer, product)\n\n    delta = compute_delta(initial, profile)\n\n    # Normalized snapshot (informational)\n    normalized = {\n        \"style_layers\": normalize_layers(profile[\"style_layers\"].copy()),\n        \"price_layers\": normalize_layers(profile[\"price_layers\"].copy()),\n        \"category_layers\": normalize_layers(profile[\"category_layers\"].copy()),\n        \"occasion_layers\": normalize_layers(profile[\"occasion_layers\"].copy()),\n        \"confidence\": round(compute_confidence(1), 4),\n    }\n\n    return delta, normalized\n\n\ndef load_fixtures(paths):\n    fixtures = []\n    for p in paths:\n        with open(p) as f:\n            fixtures.extend(json.load(f)[\"fixtures\"])\n    return fixtures\n\n\ndef main():\n    fixture_paths = [\n        \"style_profile_scoring_fixtures.json\",\n        \"style_profile_scoring_fixtures_extra.json\",\n    ]\n    fixtures = load_fixtures(fixture_paths)\n\n    failures_total = 0\n    for fx in fixtures:\n        delta, _ = run_fixture(fx)\n        expected = fx.get(\"expected_delta\", {})\n        failures = check_expected_delta(delta, expected)\n        if failures:\n            failures_total += 1\n            print(f\"FAIL {fx['id']}\")\n            for f in failures:\n                print(\"  -\", f)\n        else:\n            print(f\"PASS {fx['id']}\")\n\n    print(\"---\")\n    if failures_total:\n        print(f\"{failures_total} fixtures failed\")\n    else:\n        print(\"All fixtures passed\")\n\n\nif __name__ == \"__main__\":\n    main()\n",
    "style_profile_sample_users.json": "[\n  {\n    \"user_id\": \"u_001\",\n    \"style_layers\": {\n      \"minimal\": 0.85,\n      \"streetwear\": 0.10,\n      \"glam\": 0.15,\n      \"classic\": 0.70,\n      \"boho\": 0.05,\n      \"athleisure\": 0.12,\n      \"romantic\": 0.08,\n      \"edgy\": 0.06,\n      \"preppy\": 0.30,\n      \"avant_garde\": 0.04\n    },\n    \"price_layers\": {\"budget\": 0.10, \"mid\": 0.45, \"premium\": 0.80, \"luxury\": 0.55},\n    \"category_layers\": {\"bags\": 0.75, \"shoes\": 0.40, \"denim\": 0.35, \"workwear\": 0.80, \"occasion\": 0.30, \"accessories\": 0.55, \"active\": 0.20, \"mixed\": 0.25},\n    \"occasion_layers\": {\"work\": 0.85, \"event\": 0.25, \"casual\": 0.45, \"athleisure\": 0.20},\n    \"commerce_intent\": 0.72,\n    \"confidence\": 0.66,\n    \"ux_examples\": {\n      \"headline\": \"Your style snapshot: Clean lines and neutral basics\",\n      \"subhead\": \"Premium workwear with tailored structure\",\n      \"collections\": [\"Minimal Workwear Staples\", \"Polished Bags Edit\"],\n      \"retailer_order\": [\"COS\", \"Aritzia\", \"Theory\", \"Everlane\"]\n    }\n  },\n  {\n    \"user_id\": \"u_002\",\n    \"style_layers\": {\n      \"minimal\": 0.20,\n      \"streetwear\": 0.82,\n      \"glam\": 0.18,\n      \"classic\": 0.25,\n      \"boho\": 0.10,\n      \"athleisure\": 0.60,\n      \"romantic\": 0.05,\n      \"edgy\": 0.70,\n      \"preppy\": 0.12,\n      \"avant_garde\": 0.15\n    },\n    \"price_layers\": {\"budget\": 0.35, \"mid\": 0.78, \"premium\": 0.40, \"luxury\": 0.20},\n    \"category_layers\": {\"bags\": 0.20, \"shoes\": 0.80, \"denim\": 0.50, \"workwear\": 0.15, \"occasion\": 0.10, \"accessories\": 0.45, \"active\": 0.65, \"mixed\": 0.30},\n    \"occasion_layers\": {\"work\": 0.20, \"event\": 0.15, \"casual\": 0.80, \"athleisure\": 0.70},\n    \"commerce_intent\": 0.55,\n    \"confidence\": 0.58,\n    \"ux_examples\": {\n      \"headline\": \"Your style snapshot: Laid-back street style and sneakers\",\n      \"subhead\": \"Casual fits with sneaker-first energy\",\n      \"collections\": [\"Streetwear Sneaker Picks\", \"Everyday Athleisure\"],\n      \"retailer_order\": [\"Nike\", \"Adidas\", \"Foot Locker\", \"Urban Outfitters\"]\n    }\n  },\n  {\n    \"user_id\": \"u_003\",\n    \"style_layers\": {\n      \"minimal\": 0.10,\n      \"streetwear\": 0.12,\n      \"glam\": 0.85,\n      \"classic\": 0.30,\n      \"boho\": 0.15,\n      \"athleisure\": 0.08,\n      \"romantic\": 0.70,\n      \"edgy\": 0.20,\n      \"preppy\": 0.10,\n      \"avant_garde\": 0.22\n    },\n    \"price_layers\": {\"budget\": 0.05, \"mid\": 0.30, \"premium\": 0.65, \"luxury\": 0.85},\n    \"category_layers\": {\"bags\": 0.65, \"shoes\": 0.55, \"denim\": 0.15, \"workwear\": 0.20, \"occasion\": 0.90, \"accessories\": 0.70, \"active\": 0.05, \"mixed\": 0.20},\n    \"occasion_layers\": {\"work\": 0.25, \"event\": 0.90, \"casual\": 0.30, \"athleisure\": 0.10},\n    \"commerce_intent\": 0.80,\n    \"confidence\": 0.74,\n    \"ux_examples\": {\n      \"headline\": \"Your style snapshot: Statement looks and evening polish\",\n      \"subhead\": \"Luxury occasionwear and glam accessories\",\n      \"collections\": [\"Glam Event Looks\", \"Statement Accessories\"],\n      \"retailer_order\": [\"Nordstrom\", \"Net-a-Porter\", \"Revolve\", \"Saks\"]\n    }\n  }\n]\n",
    "style_profile_sample_users.csv": "user_id,commerce_intent,confidence,headline,subhead,collections,retailer_order,style_athleisure,style_avant_garde,style_boho,style_classic,style_edgy,style_glam,style_minimal,style_preppy,style_romantic,style_streetwear,price_budget,price_luxury,price_mid,price_premium,category_accessories,category_active,category_bags,category_denim,category_mixed,category_occasion,category_shoes,category_workwear,occasion_athleisure,occasion_casual,occasion_event,occasion_work\nu_001,0.72,0.66,Your style snapshot: Clean lines and neutral basics,Premium workwear with tailored structure,Minimal Workwear Staples; Polished Bags Edit,COS; Aritzia; Theory; Everlane,0.12,0.04,0.05,0.7,0.06,0.15,0.85,0.3,0.08,0.1,0.1,0.55,0.45,0.8,0.55,0.2,0.75,0.35,0.25,0.3,0.4,0.8,0.2,0.45,0.25,0.85\nu_002,0.55,0.58,Your style snapshot: Laid-back street style and sneakers,Casual fits with sneaker-first energy,Streetwear Sneaker Picks; Everyday Athleisure,Nike; Adidas; Foot Locker; Urban Outfitters,0.6,0.15,0.1,0.25,0.7,0.18,0.2,0.12,0.05,0.82,0.35,0.2,0.78,0.4,0.45,0.65,0.2,0.5,0.3,0.1,0.8,0.15,0.7,0.8,0.15,0.2\nu_003,0.8,0.74,Your style snapshot: Statement looks and evening polish,Luxury occasionwear and glam accessories,Glam Event Looks; Statement Accessories,Nordstrom; Net-a-Porter; Revolve; Saks,0.08,0.22,0.15,0.3,0.2,0.85,0.1,0.1,0.7,0.12,0.05,0.85,0.3,0.65,0.7,0.05,0.65,0.15,0.2,0.9,0.55,0.2,0.1,0.3,0.9,0.25\n",
    "style_profile_copy_map.md": "# Style Profile Copy Map\n\nDate: 2026-02-03\n\n## Purpose\nTranslate internal tags into human\u2011readable UI copy for personalization.\n\n## Style Archetype \u2192 Copy\n- minimal: \"Clean lines and neutral basics\"\n- streetwear: \"Laid\u2011back street style and sneakers\"\n- glam: \"Statement looks and evening polish\"\n- classic: \"Timeless staples with tailored structure\"\n- boho: \"Relaxed silhouettes and earthy textures\"\n- athleisure: \"Sport\u2011ready comfort and active fits\"\n- romantic: \"Soft details, pastels, and feminine touches\"\n- edgy: \"Bold contrasts and dark accents\"\n- preppy: \"Polished layers with collegiate energy\"\n- avant_garde: \"Experimental pieces with editorial edge\"\n\n## Price Tier \u2192 Copy\n- budget: \"Great finds without the splurge\"\n- mid: \"Balanced quality and value\"\n- premium: \"Elevated quality with modern edge\"\n- luxury: \"High\u2011end pieces and prestige brands\"\n\n## Category Focus \u2192 Copy\n- bags: \"Handbags and statement totes\"\n- shoes: \"Footwear\u2011forward looks\"\n- denim: \"Denim first, always\"\n- workwear: \"Office\u2011ready and structured pieces\"\n- occasion: \"Event\u2011ready outfits\"\n- accessories: \"Finishing touches and accents\"\n- active: \"Performance\u2011driven fits\"\n- mixed: \"A little of everything\"\n\n## Occasion \u2192 Copy\n- work: \"Workday\u2011ready\"\n- event: \"Occasion and night\u2011out\"\n- casual: \"Everyday casual\"\n- athleisure: \"Active and on\u2011the\u2011go\"\n\n## Example UI Strings\n- \"Because you follow X, we think you like Clean lines and neutral basics.\"\n- \"Your style leans: Elevated quality with modern edge + Office\u2011ready and structured pieces.\"\n- \"Trending for you: Event\u2011ready outfits in High\u2011end pieces and prestige brands.\"\n\n",
    "style_profile_ux_blueprint.md": "# Style Profile UX Blueprint\n\nDate: 2026-02-03\n\n## Goal\nUse influencer\u2011derived style signals to create a visible, useful, and delightful personalized shopping experience.\n\n## Surface 1: Onboarding\n- Ask: \"Which creators do you love?\"\n- Immediately show:\n  - \"Your style snapshot\" (top 2 archetypes + price tier)\n  - \"Recommended stores\" based on price tier + category focus\n\n## Surface 2: Home Feed\n- Personalized carousels:\n  - \"Because you follow X...\"\n  - \"Your Workwear Edit\"\n  - \"Luxury Bags You\u2019ll Love\"\n- Merchandising rules:\n  - Rank items by match to top 2 style archetypes + top category.\n\n## Surface 3: Collections\n- Auto\u2011generated boards:\n  - \"Minimal Workwear Staples\"\n  - \"Glam Evening Looks\"\n  - \"Streetwear Sneaker Picks\"\n\n## Surface 4: Creator Recommendations\n- \"Creators like X\" (similar style archetype + price tier + engagement)\n- CTA: Follow / Save\n\n## Surface 5: Retailer Prioritization\n- Reorder retailer list based on price tier + categories.\n- Example:\n  - Premium + workwear \u2192 prioritize Aritzia, COS, Theory, etc.\n\n## Personalization Logic\n- Signal source: influencer follow + browsing + purchase\n- Decay: reduce older signals over time\n- Confidence gates:\n  - If confidence < 0.3: show generic feed\n  - If confidence >= 0.3: show personalized feed\n\n## Metrics\n- CTR on personalized carousels\n- Add\u2011to\u2011cart conversion\n- Engagement with creator recs\n- Retention lift from personalization\n\n",
    "influencer_shopper_signal_map.md": "# Influencer \u2192 Shopper Signal Map (v1)\n\nDate: 2026-02-03\n\n## Purpose\nTranslate influencer attributes into shopper signals the recommender can ingest. This is the bridge between \u201cwho a user follows\u201d and \u201cwhat Muse should infer about their preferences.\u201d\n\n## Signal Model Overview\nFor each influencer, derive a set of shopper signals with confidence scores. These signals become inputs to the recommender.\n\n### Signal Types\n- **Style Signal**: aesthetic direction (e.g., minimal, streetwear, glam)\n- **Price Signal**: budget sensitivity (budget / mid / premium / luxury)\n- **Category Signal**: product focus (bags, shoes, denim, workwear, accessories, etc.)\n- **Occasion Signal**: lifestyle context (work, event, casual, athleisure)\n- **Commerce Intent Signal**: how likely the user is to shop (LTK/ShopMy/CTA behavior)\n\n## Mapping Rules (v1)\n\n### 1) Creator Type \u2192 Base Shopper Signals\n- `celebrity` \u2192 aspirational + premium/luxury tilt + high brand affinity\n- `model` \u2192 editorial + premium tilt + trend-forward\n- `fashion_influencer` \u2192 broad relevance + mid/premium tilt\n- `publisher` \u2192 trend awareness + category breadth\n- `retailer` \u2192 high commerce intent + direct brand affinity\n- `designer` \u2192 luxury tilt + design-forward\n\n### 2) Style Archetype \u2192 Style Signals\n- `minimal` \u2192 clean lines, neutral palette, modern basics\n- `streetwear` \u2192 casual, graphic, sneakers, hype brands\n- `glam` \u2192 occasionwear, statement pieces\n- `classic` \u2192 timeless, tailored, neutral palette\n- `boho` \u2192 relaxed silhouettes, earth tones\n- `athleisure` \u2192 performance fabrics, activewear\n\n### 3) Price Tier \u2192 Price Signals\n- `budget` \u2192 value-sensitive, promo-driven\n- `mid` \u2192 balanced value/quality\n- `premium` \u2192 quality-driven, selective\n- `luxury` \u2192 brand prestige and high AOV\n\n### 4) Category Focus \u2192 Category Signals\n- `bags` \u2192 handbag affinity\n- `shoes` \u2192 footwear affinity\n- `denim` \u2192 denim/core basics\n- `workwear` \u2192 office/professional clothing\n- `occasion` \u2192 event/partywear\n- `accessories` \u2192 jewelry, sunglasses, etc.\n- `active` \u2192 fitness/activewear\n- `mixed` \u2192 generalist fashion preferences\n\n### 5) Commerce Readiness \u2192 Purchase Intent Signals\n- If `LTK` or `ShopMy` signal present \u2192 high purchase intent\n- If affiliate CTA present \u2192 medium purchase intent\n- Else \u2192 low/medium purchase intent\n\n## Signal Scoring (v1)\nEach signal is assigned a confidence between 0 and 1.\n\n- Base confidence: 0.5\n- +0.2 if multiple consistent signals (e.g., style + category reinforce)\n- +0.2 if commerce readiness is high\n- -0.2 if signals are inferred only from high-level creator type\n\n## Example\nIf user follows an influencer with:\n- creator_type = fashion_influencer\n- style_archetype = minimal\n- price_tier = premium\n- category_focus = workwear\n- LTK = Yes\n\nThen infer shopper signals:\n- Style: minimal (0.9)\n- Price: premium (0.8)\n- Category: workwear (0.8)\n- Occasion: work (0.7)\n- Commerce intent: high (0.8)\n\n## Next Steps\n- Enrich style archetype and category focus using content tagging or manual curation.\n- Add a rule library to operationalize inference in the recommender.\n\n",
    "style_profile_spec.md": "# Style Profile Spec\n\nDate: 2026-02-03\n\n## Purpose\nTurn influencer signals + user behavior into a structured, confidence\u2011weighted profile that powers personalization, recommendations, and UI copy.\n\n## Inputs\n- Influencer signals (from `public_influencer_pilot.csv`):\n  - `style_archetype`, `price_tier`, `category_focus`, `commerce_readiness_score`, `audience_life_stage`\n- User events:\n  - follows, likes, saves, clicks, cart adds, purchases\n- Item metadata:\n  - category, price, brand, retailer\n\n## Core Data Model (per user)\n\n### StyleProfile\n- `user_id`\n- `style_layers` (map)\n  - keys: `minimal`, `streetwear`, `glam`, `classic`, `boho`, `athleisure`, `romantic`, `edgy`, `preppy`, `avant_garde`\n  - values: `score` 0\u20131\n- `price_layers` (map)\n  - keys: `budget`, `mid`, `premium`, `luxury`\n  - values: `score` 0\u20131\n- `category_layers` (map)\n  - keys: `bags`, `shoes`, `denim`, `workwear`, `occasion`, `accessories`, `active`, `mixed`\n  - values: `score` 0\u20131\n- `occasion_layers` (map)\n  - keys: `work`, `event`, `casual`, `athleisure`\n  - values: `score` 0\u20131\n- `commerce_intent` (0\u20131)\n- `confidence` (0\u20131)\n\n## Scoring Logic (v1)\n\n### Event weights\n- follow influencer: +1.0\n- like: +0.6\n- save: +0.9\n- click: +0.5\n- add to cart: +1.2\n- purchase: +1.5\n\n### Signal lift\n- If influencer has `style_archetype`, add weight to that style.\n- If influencer has `category_focus`, add weight to that category.\n- If influencer has `price_tier`, add weight to that price tier.\n- If influencer has `commerce_readiness_score >= 20`, add +0.1 to commerce_intent.\n\n### Normalization\n- Normalize each layer to 0\u20131 by dividing by max layer score.\n- Set `confidence` = min(1, log10(total_events + 1) / 2)\n\n## Output\n- Style Profile is stored and updated incrementally per user.\n- Used in ranking, filtering, and user\u2011facing personalization copy.\n\n",
    "integration_guide.md": "# Integration Guide (Claude)\n\n## Objective\nIntegrate Muse style profile scoring into the existing recommendation service.\n\n## Steps\n1) Load schema and scoring spec\n- `style_profile_schema.json`\n- `style_profile_scoring_function_spec.md`\n\n2) Add StyleProfile to user model\n- Store `style_layers`, `price_layers`, `category_layers`, `occasion_layers`, `commerce_intent`, `confidence`.\n\n3) Ingest events and update StyleProfile\n- On follow/like/save/click/add_to_cart/purchase, update layers and commerce_intent per spec.\n\n4) Use StyleProfile in ranking\n- Boost items and creators that match top style/category/price layers.\n\n5) Use copy map\n- Convert top layers into UI copy using `style_profile_copy_map.md`.\n\n6) Validate with fixtures\n- Run `style_profile_scoring_test_runner.py` on both fixtures.\n\n## Notes\n- Use raw delta updates for correctness; normalization is for display/ranking only.\n"
  }
}